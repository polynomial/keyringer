#!/usr/bin/env ruby

# TODO
# - a lot of things

def usage
  puts "Usage:
#{File.basename($0)} TODO! "
  exit 1
end

def doDecrypt(someArguments)
  puts "Just decrypts"
end

def doWrapper(someArguments)
  exec("keyringer #{someArguments}")
end

$:.unshift File.dirname(__FILE__) + '/../lib'
#require 'keyringer'
begin 
  keyring = ARGV.shift
  action  = ARGV.shift
  if action == 'decrypt'
    doDecrypt(ARGV)
  else
    doWrapper(ARGV)
  end
rescue SystemExit => e
  exit e.status
rescue Exception => e
  puts "Fatal error: #{e.inspect}"
  exit 1
end

